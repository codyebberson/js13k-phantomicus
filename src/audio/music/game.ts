import { bass } from '../instruments/bass';
import { synthLead } from '../instruments/synthlead';
import { theramin } from '../instruments/theramin';
import { Instrument, Sound } from '../player';
import { PackedTrack, unpackSong } from './unpack';

// Track channel: 0
// Track instrument: cello
const track0_Cello: PackedTrack = [
  [
    [[0, 2, 45]],
    [
      [0, 2, 45],
      [12, 2, 52],
      [16, 6, 51],
      [24, 2, 52],
    ],
    [
      [0, 2, 45],
      [16, 2, 45],
    ],
    [
      [0, 2, 52],
      [0, 2, 45],
      [0, 2, 48],
    ],
    [
      [0, 2, 47],
      [0, 2, 45],
      [0, 2, 51],
      [28, 2, 40],
    ],
    [
      [0, 2, 50],
      [0, 2, 48],
      [0, 2, 44],
    ],
    [
      [12, 2, 46],
      [16, 2, 47],
      [24, 2, 40],
    ],
    [
      [0, 2, 40],
      [4, 2, 44],
      [8, 2, 48],
      [12, 2, 47],
      [16, 2, 45],
      [16, 2, 36],
    ],
    [[28, 2, 40]],
    [
      [0, 2, 45],
      [28, 2, 44],
    ],
    [
      [0, 2, 45],
      [8, 2, 48],
      [16, 2, 52],
      [24, 2, 48],
    ],
    [
      [0, 2, 52],
      [8, 2, 48],
      [16, 2, 47],
    ],
    [
      [0, 2, 52],
      [8, 2, 51],
      [24, 2, 49],
      [28, 2, 50],
    ],
    [
      [0, 2, 49],
      [8, 2, 48],
      [24, 2, 47],
      [28, 2, 48],
    ],
    [
      [0, 2, 47],
      [16, 2, 46],
      [28, 2, 51],
    ],
    [
      [0, 2, 52],
      [4, 2, 47],
      [8, 2, 46],
      [12, 2, 47],
      [16, 2, 40],
      [16, 14, 52],
      [20, 2, 41],
      [24, 2, 44],
      [28, 2, 40],
    ],
    [
      [0, 14, 52],
      [0, 2, 40],
      [4, 2, 41],
      [8, 2, 40],
      [12, 2, 41],
      [16, 2, 40],
      [16, 14, 52],
      [20, 2, 41],
      [24, 2, 44],
      [28, 2, 40],
    ],
    [
      [0, 2, 45],
      [0, 2, 36],
      [0, 2, 40],
      [28, 2, 40],
    ],
  ],
  [
    [0, 0],
    [1, 32],
    [2, 64],
    [1, 96],
    [3, 128],
    [4, 160],
    [5, 192],
    [6, 224],
    [3, 256],
    [4, 288],
    [5, 320],
    [7, 352],
    [8, 416],
    [9, 448],
    [10, 480],
    [11, 512],
    [12, 544],
    [13, 576],
    [14, 608],
    [15, 640],
    [16, 672],
    [17, 704],
  ],
];

// Track channel: 1
// Track instrument: fx 4 (atmosphere)
const track1_Fx4Atmosphere: PackedTrack = [
  [
    [[0, 2, 76]],
    [[0, 2, 75]],
    [[0, 2, 74]],
    [
      [0, 1, 76],
      [1, 1, 77],
      [2, 1, 76],
      [3, 1, 72],
      [4, 1, 74],
      [5, 1, 76],
      [6, 1, 74],
      [7, 1, 71],
      [8, 1, 72],
      [9, 1, 74],
      [10, 1, 72],
      [11, 1, 69],
      [12, 1, 71],
      [13, 1, 72],
      [14, 1, 71],
      [15, 1, 68],
      [16, 2, 69],
    ],
  ],
  [
    [0, 128],
    [1, 160],
    [2, 192],
    [0, 256],
    [1, 288],
    [2, 320],
    [3, 352],
  ],
];

// Track channel: 2
// Track instrument: music box
const track2_MusicBox: PackedTrack = [
  [
    [
      [4, 2, 76],
      [8, 2, 76],
      [12, 2, 76],
      [16, 2, 76],
      [24, 2, 72],
      [28, 2, 76],
    ],
    [
      [0, 2, 75],
      [8, 2, 71],
    ],
    [
      [4, 2, 74],
      [8, 2, 74],
      [12, 2, 74],
      [16, 2, 74],
      [24, 2, 71],
      [28, 2, 74],
    ],
    [
      [0, 2, 72],
      [12, 2, 70],
      [16, 2, 71],
      [24, 2, 64],
    ],
    [
      [4, 2, 74],
      [8, 2, 74],
      [12, 2, 74],
      [16, 2, 74],
      [24, 2, 72],
      [28, 2, 74],
    ],
    [
      [0, 2, 76],
      [4, 2, 74],
      [8, 2, 72],
      [12, 2, 71],
      [16, 2, 69],
    ],
    [[28, 2, 64]],
    [
      [0, 2, 69],
      [28, 2, 68],
    ],
    [
      [0, 2, 69],
      [4, 2, 71],
      [8, 2, 72],
      [12, 2, 74],
      [16, 2, 76],
      [24, 2, 81],
    ],
    [
      [0, 2, 84],
      [0, 2, 81],
      [16, 2, 83],
      [16, 2, 80],
      [24, 2, 87],
      [28, 2, 88],
    ],
    [
      [0, 2, 87],
      [0, 2, 83],
      [8, 2, 86],
      [8, 2, 82],
      [24, 2, 85],
      [24, 2, 76],
      [28, 2, 86],
      [28, 2, 77],
    ],
    [
      [0, 2, 85],
      [0, 2, 76],
      [8, 2, 84],
      [8, 2, 74],
      [24, 2, 83],
      [24, 2, 76],
      [28, 2, 84],
      [28, 2, 77],
    ],
    [
      [0, 2, 83],
      [0, 2, 76],
      [16, 2, 82],
      [16, 2, 75],
      [28, 2, 87],
      [28, 2, 75],
    ],
    [
      [0, 2, 88],
      [0, 2, 76],
      [4, 2, 83],
      [4, 2, 71],
      [8, 2, 82],
      [8, 2, 70],
      [12, 2, 83],
      [12, 2, 71],
      [16, 2, 76],
      [16, 14, 64],
    ],
    [
      [0, 2, 76],
      [0, 14, 64],
      [16, 2, 76],
      [16, 14, 64],
    ],
    [
      [0, 2, 81],
      [0, 2, 72],
      [0, 16, 69],
    ],
  ],
  [
    [0, 128],
    [1, 160],
    [2, 192],
    [3, 224],
    [0, 256],
    [1, 288],
    [4, 320],
    [5, 352],
    [6, 416],
    [7, 448],
    [8, 480],
    [9, 512],
    [10, 544],
    [11, 576],
    [12, 608],
    [13, 640],
    [14, 672],
    [15, 704],
  ],
];

// Track channel: 3
// Track instrument: lead 1 (square)
const track3_Lead1Square: PackedTrack = [
  [
    [
      [12, 2, 70],
      [16, 2, 71],
      [24, 2, 64],
    ],
  ],
  [[0, 224]],
];

// Track channel: 4
// Track instrument: lead 3 (calliope)
const track4_Lead3Calliope: PackedTrack = [
  [
    [
      [0, 16, 76],
      [16, 16, 79],
    ],
    [
      [0, 16, 78],
      [16, 16, 75],
    ],
    [
      [0, 16, 74],
      [16, 16, 77],
    ],
    [
      [0, 2, 76],
      [4, 2, 74],
      [8, 2, 72],
      [12, 2, 71],
      [16, 48, 69],
    ],
    [[28, 2, 64]],
    [
      [0, 16, 69],
      [28, 4, 68],
    ],
    [
      [0, 2, 69],
      [4, 2, 71],
      [8, 2, 72],
      [12, 2, 74],
      [16, 2, 76],
      [24, 2, 81],
    ],
    [
      [0, 16, 84],
      [0, 16, 81],
      [0, 2, 76],
      [0, 2, 72],
      [16, 2, 80],
      [16, 2, 83],
      [16, 2, 71],
    ],
  ],
  [
    [0, 256],
    [1, 288],
    [2, 320],
    [3, 352],
    [4, 416],
    [5, 448],
    [6, 480],
    [7, 512],
  ],
];

// Track channel: 5
// Track instrument: violin
const track5_Violin: PackedTrack = [
  [
    [
      [12, 2, 82],
      [16, 2, 83],
      [24, 2, 76],
    ],
    [
      [0, 2, 88],
      [16, 2, 91],
    ],
    [
      [0, 2, 90],
      [16, 2, 87],
    ],
    [
      [0, 2, 86],
      [16, 2, 89],
    ],
    [
      [0, 2, 88],
      [4, 2, 86],
      [8, 2, 84],
      [12, 2, 83],
      [16, 2, 81],
    ],
  ],
  [
    [0, 224],
    [1, 256],
    [2, 288],
    [3, 320],
    [4, 352],
  ],
];

// Track channel: 6
// Track instrument: lead 8 (bass + lead)
const track6_Lead8BassLead: PackedTrack = [
  [
    [
      [12, 2, 76],
      [16, 8, 75],
      [24, 2, 76],
    ],
    [[28, 4, 64]],
    [
      [0, 2, 69],
      [4, 2, 71],
      [8, 2, 72],
      [12, 2, 74],
      [16, 2, 76],
      [24, 2, 72],
      [24, 2, 81],
    ],
    [
      [0, 16, 69],
      [16, 2, 71],
      [16, 2, 68],
      [24, 4, 76],
      [28, 4, 77],
    ],
    [
      [0, 8, 76],
      [0, 8, 71],
      [8, 8, 74],
      [8, 8, 70],
      [24, 4, 73],
      [24, 4, 64],
      [28, 4, 74],
      [28, 4, 65],
    ],
    [
      [0, 8, 73],
      [0, 8, 64],
      [8, 8, 72],
      [8, 8, 62],
      [24, 4, 71],
      [24, 4, 64],
      [28, 4, 72],
      [28, 4, 65],
    ],
    [
      [0, 8, 71],
      [0, 8, 64],
      [16, 8, 70],
      [16, 8, 63],
      [28, 4, 75],
      [28, 4, 63],
    ],
    [
      [0, 2, 76],
      [0, 2, 64],
      [4, 2, 71],
      [4, 2, 59],
      [8, 2, 70],
      [8, 2, 58],
      [12, 2, 71],
      [12, 2, 59],
      [16, 14, 64],
      [16, 14, 52],
    ],
    [
      [0, 14, 64],
      [0, 14, 52],
      [16, 14, 64],
      [16, 14, 52],
    ],
    [
      [0, 16, 69],
      [0, 16, 60],
      [0, 32, 57],
    ],
  ],
  [
    [0, 288],
    [1, 448],
    [2, 480],
    [3, 512],
    [4, 544],
    [5, 576],
    [6, 608],
    [7, 640],
    [8, 672],
    [9, 704],
  ],
];

const tracks = [
  track0_Cello,
  track1_Fx4Atmosphere,
  track2_MusicBox,
  track3_Lead1Square,
  track4_Lead3Calliope,
  track5_Violin,
  track6_Lead8BassLead,
];

const instruments: Instrument[] = [bass, synthLead, theramin, synthLead, theramin, synthLead, synthLead];

export const gameMusic = new Sound(unpackSong(tracks, instruments, 0.08));
